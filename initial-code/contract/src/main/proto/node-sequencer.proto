syntax = "proto3";

package pt.tecnico.blockchainist.contract;

import "common.proto";

// The following option causes top-level messages, enums, and services to be
// defined at the package level, rather than inside an outer class named after
// the .proto file.
option java_multiple_files = true;

message BroadcastRequest {
  Transaction transaction = 1;
}

message BroadcastResponse {
  int32 sequence_number = 1;
}

message DeliverTransactionRequest {
  int32 sequence_number = 1;
}

message DeliverTransactionResponse {
  Transaction transaction = 1;
}

service SequencerService {
  rpc Broadcast(BroadcastRequest) returns (BroadcastResponse);
  rpc DeliverTransaction(DeliverTransactionRequest) returns (DeliverTransactionResponse);
  // TO DO: na entrega B.1, adicionar operação DeliverBlock, que devolve bloco.
}
